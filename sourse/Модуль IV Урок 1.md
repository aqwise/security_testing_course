Урок 1. Атака на хранилища данных
Этот урок открывает четвертый модуль и посвящен атакам на хранилища данных. На практике уязвимости часто спрятаны в глубине приложения – в том месте, где код взаимодействует с хранилищем данных. Глава 9 «Атака на хранилища данных» из книги The Web Application Hacker's Handbook описывает типичные векторы атак на SQL‑, NoSQL‑, XPath‑ и LDAP‑базы. В этом уроке мы обобщим эти идеи, рассмотрим типовые атаки и предложим практические задания на платформе PortSwigger Web Security Academy.ок 4. Атака на хранилища данных
Этот урок завершает третий модуль и выходит за рамки аутентификации и управления сессиями. На практике уязвимости часто спрятаны в глубине приложения – в том месте, где код взаимодействует с хранилищем данных. Глава 9 «Атака на хранилища данных» из книги The Web Application Hacker’s Handbook описывает типичные векторы атак на SQL‑, NoSQL‑, XPath‑ и LDAP‑базы. В этом уроке мы обобщим эти идеи, рассмотрим типовые атаки и предложим практические задания на платформе PortSwigger Web Security Academy.
1. Почему хранилище данных – ключевая цель
Почти все веб‑приложения используют хранилища данных для управления информацией: они хранят учетные записи пользователей, права доступа, настройки конфигурации и другие элементы логики приложения. Современные СУБД – это не просто пассивные контейнеры, они содержат сложную бизнес‑логику и доверяют запросам, поступающим от приложения. Если злоумышленник сможет вмешаться во взаимодействие приложения с хранилищем, он сможет извлечь или изменить конфиденциальные данные и обойти контроль доступа【20†L20-L32】. Поэтому цель атакующего – найти способ превратить пользовательский ввод в часть исполняемого кода на языке запросов.
2. Интерпретируемые языки и внедрение кода
Многие языки, используемые для работы с базами (SQL, LDAP, XPath, запросы MongoDB), являются интерпретируемыми: существует компонент времени выполнения, который анализирует строку запроса и выполняет содержащиеся в ней инструкции. Приложение часто формирует такие запросы, используя шаблон и значения, полученные от клиента. Если ввод пользователя смешивается с инструкциями, специально сформированный запрос может выйти за пределы контекста данных и заставить интерпретатор выполнить дополнительный код【20†L42-L53】. Например, вместо простого значения параметра можно вставить части SQL‑кода ('--, OR 1=1, вызовы функций), которые изменят логику запроса.
2.1 Обход входа в систему
Простейший пример – форма входа, которая проверяет имя пользователя и пароль, выполняя запрос:
SELECT id FROM users WHERE username='$username' AND password='$password';
Если приложение некорректно обрабатывает ввод, злоумышленник может подставить значение admin'-- в поле имени пользователя и произвольный пароль в поле пароля. Подстановка -- завершает условие и комментирует остаток запроса, благодаря чему проверка пароля не выполняется【20†L60-L66】. Более универсальная техника – использование условия OR 1=1 вместе с пустым именем пользователя: это заставляет запрос вернуть все записи, что также позволяет войти в систему【20†L68-L78】.
3. SQL‑инъекция
SQL‑инъекция – это уязвимость, позволяющая злоумышленнику вмешиваться в запросы к базе данных. При успешной атаке он может просмотреть, изменять или удалять данные, а также выполнять административные операции[1]. Чтобы обнаружить SQL‑инъекцию, атакующий отправляет специальные символы или выражения и наблюдает, как меняется ответ сервера. Простейший тест – добавить одинарную кавычку, двойную кавычку или обратную косую, чтобы выявить синтаксические ошибки. Более продвинутые методики включают логические условия, математические выражения и временные задержки[2].
3.1 Базовая эксплуатация
Извлечение данных: если результаты запроса возвращаются пользователю (например, список товаров), можно попытаться изменить запрос так, чтобы получить дополнительные строки. В главе 9 описано, как злоумышленник использует комментарий ('--) или условие OR 1=1, чтобы обойти фильтр и отобразить все записи【20†L60-L78】. На PortSwigger есть лаборатория «SQL injection vulnerability in WHERE clause allowing retrieval of hidden data», где нужно вывести все товары вне выбранной категории. В решении следует подставить …' OR 1=1-- в параметр фильтра.
Изменение логики: для обхода аутентификации используется описанный выше вариант с admin'-- или ' OR 1=1--. На лаборатории PortSwigger «SQL injection vulnerability allowing login bypass» предлагается войти под администратором, используя эти техники. Важно помнить, что конструкция OR 1=1 может изменить и операции обновления/удаления, поэтому следует действовать осторожно[3].
3.2 Внедрение в различные выражения
Помимо данных в запросах SELECT, пользовательский ввод часто попадает в другие части SQL‑выражения, что приводит к более сложным атакам:
•	ORDER BY – если параметр управляет сортировкой, злоумышленник может подставить имя столбца или вложенный подзапрос. Глава 9 приводит пример, где параметр sort вставляется в ORDER BY title ASC. Подстановка числа 1, 2, 3 меняет порядок сортировки. Если заменить имя столбца на (SELECT 1 WHERE <условие>), можно выполнять логические выводы для получения данных. Этот вид инъекции невозможно предотвратить экранированием одинарных кавычек.
•	INSERT, UPDATE и DELETE – изменение структуры запросов позволяет добавлять, менять или удалять записи. Например, инъекция ; DROP TABLE users;-- в уязвимый параметр может удалить таблицу. Движок базы обычно не допускает несколько операторов, но в MS‑SQL существуют пакетные запросы (batch queries), что делает возможными подобные атаки.
•	Union‑атаки – оператор UNION позволяет объединять результаты нескольких запросов. Если число и тип столбцов совпадают, злоумышленник может внедрить второй запрос и вывести его результаты в браузер. Например, вместо издателя Wiley в запросе SELECT author,title,year FROM books WHERE publisher='Wiley' можно вставить Wiley' UNION SELECT username,password,uid FROM users-- и получить учетные данные пользователей.
3.3 Поиск и подтверждение уязвимости
Чтобы определить, насколько глубоко ввод проникает в SQL, тестировщики используют ряд подходов:
1.	Отправка математических выражений. Вместо числа 2 подставляют 1+1 или 3-1. Если результат не меняется, возможно, база вычисляет выражение. Это индикатор SQL‑инъекции.
2.	Использование функций. База воспринимает функции ASCII() или CHAR() как числа. Замена 2 на 67-ASCII('A') позволяет обойти фильтры одинарных кавычек, т. к. база превращает числа в строки【20†L200-L228】.
3.	URL‑кодирование. При отправке атакующих строк важно кодировать проблемные символы: & → %26, = → %3d, пробел → %20 или +, + → %2b, ; → %3b. Неправильное кодирование может сломать запрос【20†L200-L228】.
4.	Логические выводы. Если приложение не показывает ошибки, можно использовать условия, изменяющие время отклика. Например, OR (SELECT CASE WHEN (username='admin') THEN SLEEP(5) ELSE 0 END); если страница загружается дольше, условие истинно. Такая «слепая» SQL‑инъекция используется в лаборатории PortSwigger «Blind SQL injection with conditional responses».
3.4 Снятие отпечатков базы данных
Разные СУБД по‑разному конкатенируют строки и выполняют функции. Зная эти различия, можно определить тип бэкенда. В главе 9 приводятся примеры: Oracle использует 'serv'||'ices', MS‑SQL – 'serv'+'ices', MySQL – 'serv' 'ices' без оператора. Для числовых выражений можно использовать: BITAND(1,1)-BITAND(1,1) (Oracle), @@PACK_RECEIVED-@@PACK_RECEIVED (MS‑SQL), CONNECTION_ID()-CONNECTION_ID() (MySQL). Определив СУБД, можно выбрать подходящие функции и синтаксис для дальнейшей эксплуатации【20†L200-L228】.
3.5 Избежание фильтров и SQL‑инъекция второго порядка
Некоторые приложения фильтруют одиночные кавычки или опасные ключевые слова, но этого недостаточно. Разработчики иногда пропускают проверку для числовых или логических параметров (например, имени столбца в ORDER BY), что делает возможными обходные техники. Кроме того, раздел 2.9 главы 9 описывает SQL‑инъекцию второго порядка: вредоносные данные сохраняются в базе, а потом используются в другом месте приложения. Например, атакующий регистрируется с именем bad'||(select password from users where username='admin')||', которое безвредно при сохранении, но позже вставляется в отчёт и раскрывает пароль. Защититься от этого можно только посредством тотальной проверки ввода и использования параметризованных запросов.
3.6 Продвинутые техники
В дальнейшем главе приведены и более сложные атаки: чтение файлов с сервера, выполнение системных команд через расширенные функции СУБД, туннелирование через базу, использование вызовов xp_cmdshell в MS‑SQL и т. д. Эти техники требуют глубокого понимания конкретной платформы и часто используют ошибки конфигурации. Для изучения подобных атак PortSwigger предоставляет лаборатории с повышенной сложностью.
4. Внедрение в NoSQL, XPath и LDAP
Глава 9 демонстрирует, что инъекционные атаки не ограничиваются SQL. Многие современные приложения используют NoSQL‑хранилища (MongoDB, CouchDB), XML‑базы и каталоги LDAP. Поскольку запросы к ним также формируются как строки, злоумышленник может вставить дополнительные операторы и изменить логику:
•	NoSQL (MongoDB). Типичный запрос имеет вид db.users.find({ username: user, password: pass }). Если параметры передаются как JSON‑строка, можно передать объект { "$ne": null }, чтобы условие всегда было истинным. Раздел 3 главы описывает этот тип атаки.
•	XPath. Запросы XPath используются для поиска элементов в XML. Если пользовательский ввод попадает в XPath‑выражение, можно манипулировать деревом XML. Например, при запросе //user[username/text()='$user' and password/text()='$pass'] ввести admin' or '1'='1 и получить первый узел пользователя. Также возможны слепые атаки, основанные на ошибках и времени ответа.
•	LDAP. Каталоги LDAP используют фильтры вида (uid=$user)(userPassword=$pass). Инъекция *)(|(uid=*)) приведёт к фильтру *)(|(uid=*)) и вернёт всех пользователей. В разделе 5 описываются способы обнаружения и предотвращения таких атак.
Принципы поиска уязвимостей, описанные выше для SQL, работают и здесь: ввод специальных символов, наблюдение за ошибками, логические выводы и временные задержки. Основная защита – строгое использование параметризованных API (например, подготовленные выражения или методы поиска, которые отделяют данные от кода).
5. Практика: PortSwigger и DVWA
Для закрепления материала рекомендуем пройти бесплатные лаборатории PortSwigger Web Security Academy. Они не требуют настройки окружения: достаточно зарегистрироваться и перейти по ссылке. В каждом упражнении вы получаете тестовое приложение и задание; после решения система проверит ваш ответ.
5.1 Лабораторная 4.1. SQL‑инъекция: обход входа
1.	Перейдите на курс PortSwigger Web Security Academy и найдите упражнение «SQL injection vulnerability allowing login bypass».
2.	Ознакомьтесь с текстовым описанием и требованиями. После запуска лаборатории перейдите к форме входа.
3.	Введите в поле имя пользователя administrator и пароль random. Нажмите «Войти» и обратите внимание на сообщение об ошибке.
4.	Теперь введите administrator'-- в поле имени пользователя и произвольный пароль. Вы должны войти в приложение как администратор. Подумайте, какой запрос формирует приложение.
5.2 Лабораторная 4.2. Получение скрытых данных
1.	Откройте упражнение «SQL injection vulnerability in WHERE clause allowing retrieval of hidden data».
2.	В списке категорий выберите любую категорию и посмотрите, какие товары отображаются.
3.	Используя прокси Burp или панель разработчика, измените параметр category в строке запроса, подставив ' OR 1=1--. Приложение должно вернуть товары из всех категорий. Попробуйте также воспользоваться UNION для вывода других таблиц.
5.3 Лабораторная 4.3. Слепая SQL‑инъекция
1.	Найдите упражнение «Blind SQL injection with conditional responses».
2.	Лаборатория использует куку отслеживания. Измените значение куки, добавив логическое выражение '||(SELECT CASE WHEN (username='administrator' AND SUBSTRING(password,1,1)='a') THEN TO_CHAR(1/0) ELSE '' END)||'. В разных СУБД синтаксис может отличаться; задача состоит в том, чтобы по изменению времени ответа или HTTP‑статуса получить пароль администратора.
5.4 Дополнительная практика
В дополнение к PortSwigger вы можете отработать навыки на локальных стендах, таких как Damn Vulnerable Web Application (DVWA), bWAPP или OWASP Juice Shop. Рекомендуем следующие упражнения:
•	DVWA: SQL Injection – лаборатория позволяет отправлять запросы с параметрами id и Submit. Используйте 1' UNION SELECT user,password FROM users-- для извлечения учетных данных.
•	DVWA: Blind SQL Injection – аналогичный пример, но без непосредственного вывода результатов. Попробуйте определить длину и символы пароля, используя выражения AND SUBSTRING(password,1,1)='a'.
•	OWASP Juice Shop: Score Board – найдите задачу, связанную с SQL‑инъекцией. Обычно необходимо найти элемент поиска и подобрать полезную нагрузку (' OR TRUE--).
6. Тестовые вопросы
Проверьте, насколько хорошо вы усвоили материал:
1.	Почему атака на хранилища данных позволяет обойти контроль доступа приложения?
2.	Чем интерпретируемые языки отличаются от компилируемых и почему это важно для инъекций?
3.	Как работает обход входа с помощью admin'--? Опишите логику запроса.
4.	Что произойдёт, если вместо OR 1=1 использовать OR 'a'='a'? В каких случаях это полезно?
5.	Назовите два способа подтвердить SQL‑инъекцию, когда приложение не выводит ошибки.
6.	Какие различия в синтаксисе помогут определить тип СУБД?
7.	Что такое SQL‑инъекция второго порядка и как от неё защититься?
8.	Приведите пример инъекции в MongoDB, который позволит обойти проверку пароля.
9.	Какой фильтр нужно добавить к DVWA, чтобы закрыть базовую SQL‑инъекцию?
10.	Почему использование подготовленных выражений защищает от инъекций?
7. Заключение
Атаки на хранилища данных остаются одним из самых опасных классов уязвимостей. Они являются прямым следствием смешения программных инструкций и пользовательских данных. Вы узнали, как простая ошибка в обработке строк приводит к полному обходу аутентификации, как извлекать скрытые данные с помощью UNION и логических условий, как выявлять уязвимости в ORDER BY, INSERT и UPDATE, а также как определить тип базы данных по косвенным признакам. Не ограничивайтесь SQL – те же принципы применимы к NoSQL, XPath и LDAP. Всегда проверяйте ввод, используйте параметризованные запросы и функции API, отделяющие данные от кода.
Источники
1.	Глава 9 «Атака на хранилища данных» из книги The Web Application Hacker’s Handbook (WAHH) – в переводе Натальи Сосновской – предоставляет подробный разбор SQL‑инъекций, обхода логики и атак на NoSQL/XPath/LDAP【20†L20-L32】【20†L42-L53】.
2.	Статья PortSwigger Web Security Academy – «SQL injection» даёт краткое определение SQL‑инъекции, описывает её последствия и способы обнаружения, включая использование кавычек, логических условий и временных задержек[1][2].
3.	Примеры обхода логина и извлечения скрытых данных при SQL‑инъекции из раздела PortSwigger с практическими упражнениями[3].
________________________________________
[1] [2] [3] What is SQL Injection? Tutorial & Examples | Web Security Academy
https://portswigger.net/web-security/sql-injection


Тест по уроку 4: Атаки на хранилища данных

1. Какое определение лучше всего описывает SQL инъекцию?
A) Руководство по использованию параметризованных запросов
B) Уязвимость, позволяющая нарушителю вмешиваться в запросы к базе данных
C) Процесс шифрования данных перед отправкой
D) Метод аутентификации пользователей

2. Какова основная причина возникновения инъекционных уязвимостей в веб приложениях?
A) Использование статических запросов к базе данных
B) Смешивание кода запроса и пользовательского ввода без должной обработки
C) Сервер работает под управлением Linux
D) Использование шаблонов ORM

3. Какой потенциал ущерба существует при успешной SQL инъекции?
A) Только просмотр некритичных данных
B) Только изменение внешнего вида сайта
C) Просмотр, изменение или удаление данных, выполнение административных команд
D) SQL инъекции не приводят к реальному ущербу

4. В каких местах веб приложения обычно встречается SQL инъекция?
A) Только в формах логина
B) Формы ввода, URL параметры, cookie, HTTP заголовки
C) Только в файлах конфигурации
D) Только в CSS стилях

5. Какой из нижеперечисленных payload ов может обойти проверку логина?
A) admin'--
B) SELECT * FROM users
C) <script>alert(1)</script>
D) password=guest

6. Почему использование конструкции 'OR 1=1' в инъекции может быть опасным?
A) Она никогда не возвращает результат
B) Она может изменить действие запроса, например, удалить все записи
C) Она приводит к синтаксической ошибке
D) Она корректно работает только в обновлениях (UPDATE)

7. Для чего злоумышленник может использовать оператор UNION в SQL инъекции?
A) Для создания новых таблиц
B) Для объединения результатов легального и злонамеренного запроса с целью вывести скрытые данные
C) Для стирания логов
D) Для управления транзакциями

8. Чем отличается blind SQL инъекция от обычной?
A) Blind означает, что атака выполняется с закрытыми глазами
B) При blind нет явного сообщения об ошибке, приходится полагаться на косвенные признаки (истина/ложь, временные задержки)
C) Blind использует только UPDATE запросы
D) Blind может выполняться только из админ панели

9. Что такое SQL инъекция второго порядка?
A) Инъекция, которая выполняет запросы только во второй половине дня
B) Атака, при которой вредоносная строка сохраняется в базе и выполняется позже в другом контексте
C) Атака, которая требует участия двух злоумышленников
D) Такого понятия не существует

10. Что из перечисленного может быть примером инъекции в NoSQL?
A) Использование параметризованного запроса в MongoDB
B) Вставка объекта {$ne:null} в поле фильтра
C) Использование UNION SELECT в SQLite
D) Работа с XSLT шаблонами

11. Какой тип данных чаще всего подвергается XPath инъекции?
A) Двоичные файлы
B) XML документы
C) CSV файлы
D) Изображения

12. Какой риск несёт LDAP инъекция?
A) Обход аутентификации и изменение LDAP каталога
B) Повышение привилегий на уровне ОС
C) Внедрение CSRF
D) Ошибка компиляции кода

13. Какое действие часто используют для выявления SQL инъекций?
A) Вставить символ апострофа (')
B) Изменить User Agent на Mozilla
C) Удалить cookie
D) Изменить порт сервера

14. Как распознать уязвимость к blind инъекции?
A) Изменяя регистр букв в запросе
B) Добавляя условие 'AND 1=1' и 'AND 1=2' и сравнивая ответы
C) Изменяя язык браузера
D) Подставляя правильный пароль

15. Как работает time based blind SQL инъекция?
A) Она выводит данные мгновенно
B) Она использует временную задержку в запросе для определения истинности выражения
C) Она отправляет запросы только в течение часа
D) Она требует отключения брандмауэра

16. Что характеризует Out of band SQL инъекцию?
A) Результат приходит через другой канал, например, DNS или HTTP запрос
B) Используется только в локальных сетях
C) Она не требует веб приложения
D) Это просто другое название time based инъекции

17. Как атакующий может определить количество столбцов при UNION инъекции?
A) С помощью команды DROP TABLE
B) Постепенно увеличивая количество NULL в UNION SELECT до тех пор, пока запрос не перестанет выдавать ошибку
C) Изменяя размер пакета TCP
D) Изменяя куку сессии

18. Какой SQL оператор используется для изменения существующих записей?
A) INSERT
B) SELECT
C) UPDATE
D) DELETE

19. Какой оператор позволяет злоумышленнику удалить записи через SQL инъекцию?
A) MERGE
B) SELECT
C) INSERT
D) DELETE

20. Как злоумышленник может вывести скрытое поле, используя SQL инъекцию?
A) Закомментировать конец запроса и добавить собственный SELECT
B) Изменить цвет текста на странице
C) Сменить пароль на сервере
D) Удалить скрытое поле в HTML

21. Какой метод защиты является наиболее эффективным против SQL инъекций?
A) Проверка IP адреса пользователя
B) Параметризованные запросы (prepared statements)
C) Установка большого таймаута подключения
D) Сжатие ответа сервера

22. Что включает в себя корректная валидация входных данных?
A) Принимать все символы без ограничений
B) Использовать whitelist проверку и ограничения по длине
C) Заменять все буквы на заглавные
D) Удалять все пробелы

23. Почему важно запускать базу данных с минимальными привилегиями?
A) Чтобы ускорить выполнение запросов
B) Чтобы в случае компрометации атакующий имел минимальный доступ
C) Чтобы можно было использовать больше потоков
D) Потому что так требует закон

24. Как хранимые процедуры могут помочь в защите?
A) Они делают запросы неизменяемыми и уменьшают необходимость конкатенации строк
B) Они автоматически шифруют данные
C) Они заменяют базу данных
D) Они удаляют старые записи

25. Почему простое экранирование входных данных недостаточно?
A) Невозможно экранировать символы
B) Это может быть обходено с помощью разнообразных кодировок
C) Экранирование всегда вызывает ошибку
D) SQL сервера не поддерживают экранирование

26. Как WAF может помочь в контексте SQL инъекций?
A) Он полностью исключает необходимость в других мерах защиты
B) Он фильтрует известные вредоносные шаблоны, но должен использоваться вместе с другими мерами
C) Он отправляет атакующих на другой сервер
D) Он шифрует базу данных

27. Какая разница между динамическими и статическими SQL запросами?
A) Динамические не используют параметры; статические формируются на этапе компиляции
B) Динамические всегда безопасны; статические всегда уязвимы
C) Нет разницы
D) Статические могут выполняться только один раз

28. Какие типы входов следует проверять на SQL инъекции?
A) Только текстовые поля
B) Все места, где данные взаимодействуют с запросами: параметры URL, формы, cookie, HTTP заголовки
C) Только файлы загрузки
D) Только поля email

29. Почему следует комбинировать SQL инъекцию с другими уязвимостями (например, XSS)?
A) Чтобы повысить привилегию текста в базе
B) Потому что это упрощает эксплуатацию, доступна возможность атаковать разные уровни
C) Это не рекомендуется
D) Чтобы атакующий устал

30. Помогают ли ORM фреймворки полностью устранить SQL инъекции?
A) Да, они делают приложения полностью безопасными
B) Нет, потому что можно выполнять сырой SQL и допускать ошибки
C) Да, но только в Python
D) ORM фреймворки не связаны с базами данных

31. Если при добавлении UNION SELECT возникает ошибка «Неверное количество столбцов», что нужно сделать?
A) Использовать оператор UPDATE
B) Подобрать количество столбцов, добавляя NULL значения, пока запрос не будет успешен
C) Изменить схему БД
D) Сменить браузер

32. Почему при UNION инъекции важно учитывать типы данных?
A) Потому что база данных сортирует таблицы по алфавиту
B) Потому что каждый столбец должен соответствовать типу данных исходного запроса
C) Это не имеет значения
D) Чтобы изменить кодировку страницы

33. Какой пример payload а может обойти форму логина?
A) ' OR 1=1--
B) SELECT username FROM users
C) <script>alert(1)</script>
D) DROP DATABASE

34. Какой метод эксплуатации использует вывод ошибок для получения структурной информации о базе?
A) Blind injection
B) Error based injection
C) Time based injection
D) Command injection

35. Что такое stacked queries (многозапросная инъекция)?
A) Отправка нескольких запросов в одном пакете, разделённых точкой с запятой
B) Использование стека памяти
C) Сжатие SQL запроса
D) Запрос, состоящий только из UNION

36. Как можно обнаружить инъекцию второго порядка?
A) Проследить, где вводимые данные используются повторно в запросах
B) Использовать csrf токен
C) Изменить шрифт на странице
D) Удалить таблицу sessions

37. Какая защита подходит против NoSQL инъекций?
A) Принцип подобен SQL: использование параметризованных запросов и жёсткая валидация
B) Отказ от использования базы данных
C) Сжатие данных
D) Переход на XML

38. Что может сделать атакующий при успешной XPath инъекции?
A) Получить несанкционированный доступ к XML данным
B) Запустить вирус
C) Изменить сетевые настройки
D) Удалить лог файлы на сервере

39. Как предотвратить LDAP инъекцию?
A) Использовать фильтрацию специальных символов и безопасные API
B) Изменить порт LDAP
C) Сохранять пароли в открытом виде
D) Не использовать каталог

40. Где находится SQL инъекция в списке OWASP Top 10 (2021)?
A) Не входит в Top 10
B) A01 – Broken Access Control
C) A03 – Injection
D) A10 – Server-Side Request Forgery

41. Чем отличается SQL инъекция от командной (OS) инъекции?
A) SQL инъекция выполняет системные команды
B) Командная инъекция направлена на выполнение команд ОС, а SQL – на манипуляции базой данных
C) Нет различий
D) SQL инъекция всегда сложнее

42. Почему стоит использовать DVWA или PortSwigger Labs для практики SQL инъекций?
A) Потому что они представляют реальные сайты клиентов
B) Они безопасны, легальны и предоставляют контролируемую среду с задачами
C) Их нельзя настроить без платного доступа
D) Они удаляют все данные с вашего компьютера

43. Можно ли с помощью UNION инъекции получить данные из нескольких таблиц?
A) Да, объединив запросы, если количество и типы столбцов совпадают
B) Нет, UNION работает только в одной таблице
C) Только в MySQL
D) Только если база данных пуста

44. Какую роль играет последовательность -- или # в SQL инъекции?
A) Она завершает выполнение вредоносного кода
B) Она комментирует остаток исходного запроса, предотвращая его выполнение
C) Она создаёт новую строку
D) Не имеет значения

45. Что означает, если реакция приложения различается на 'AND 1=1' и 'AND 1=2'?
A) Это свидетельство обфускации
B) Приложение, вероятно, уязвимо к blind SQL инъекции
C) Это свидетельствует об ошибке JavaScript
D) Это доказывает отсутствие уязвимости

46. Какой из шагов является первым при тестировании на SQL инъекцию?
A) Изменение DNS
B) Определение потенциальных точек ввода и понимание контекста запроса
C) Удаление всех таблиц
D) Запуск брандмауэра

47. Почему параметризованные запросы предпочтительнее экранирования?
A) Потому что экранирование устарело и больше не поддерживается
B) Потому что параметры полностью разделяют данные и код, а экранирование может быть обойдёно
C) Потому что параметризованные запросы быстрее
D) Потому что так проще писать код

48. Как злоумышленник может изменить несколько полей с помощью инъекции в оператор UPDATE?
A) Добавив SET password='hacked', is_admin=1 после WHERE
B) Это невозможно
C) Отправив DELETE вместо UPDATE
D) Изменив заголовок HTTP Referer

49. Почему следует скрывать подробные сообщения об ошибках от пользователей?
A) Чтобы сократить время отклика
B) Подробные ошибки могут помочь злоумышленнику понять структуру запроса и базы данных
C) Ошибки всегда бесполезны
D) Это не имеет значения

50. Как SQL инъекция может повлиять на контроль доступа?
A) Она никак не связана
B) Используя инъекцию, можно обойти проверки прав и получить доступ к закрытым данным
C) Контроль доступа зависит только от брандмауэра
D) Она может только изменить цвет интерфейса

Ответы:
1. B
2. B
3. C
4. B
5. A
6. B
7. B
8. B
9. B
10. B
11. B
12. A
13. A
14. B
15. B
16. A
17. B
18. C
19. D
20. A
21. B
22. B
23. B
24. A
25. B
26. B
27. A
28. B
29. B
30. B
31. B
32. B
33. A
34. B
35. A
36. A
37. A
38. A
39. A
40. C
41. B
42. B
43. A
44. B
45. B
46. B
47. B
48. A
49. B

